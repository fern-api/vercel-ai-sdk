import{ssr as r,ssrHydrationKey as l,escape as o,createComponent as e,ssrAttribute as i}from"solid-js/web";import{u as d}from"./assets/index-VNZibSlG.js";import{For as s,Show as n}from"solid-js";import"./assets/index-Bf1kAoXe.js";import"zod";import"solid-js/store";const g=["<div",' class="flex flex-col w-full max-w-md py-24 mx-auto stretch"><!--$-->','<!--/--><form><input class="fixed bottom-0 w-full max-w-md p-2 mb-8 border border-gray-300 rounded shadow-xl"',' placeholder="Say something..."></form></div>'],h=["<div",' class="whitespace-pre-wrap"><strong>',"</strong><!--$-->","<!--/--><br></div>"],v=["<div",' class="text-gray-500"><!--$-->','<!--/--><div class="flex gap-2"><button class="px-4 py-2 font-bold text-white bg-blue-500 rounded hover:bg-blue-700">Yes</button><button class="px-4 py-2 font-bold text-white bg-red-500 rounded hover:bg-red-700">No</button></div></div>'],m=["<div",' class="text-gray-500">Location access allowed: <!--$-->',"<!--/--></div>"],f=["<div",' class="text-gray-500">Getting location...</div>'],w=["<div",' class="text-gray-500">Location: <!--$-->',"<!--/--></div>"],I=["<pre",">","</pre>"],x=["<div",' class="text-gray-500">Getting weather information for <!--$-->',"<!--/-->...</div>"],y=["<div",' class="text-gray-500">Weather in <!--$-->',"<!--/-->: <!--$-->","<!--/--></div>"];function L(){const{messages:c,input:u}=d({api:"/api/use-chat-tools",maxSteps:5,async onToolCall({toolCall:a}){if(a.toolName==="getLocation"){const t=["New York","Los Angeles","Chicago","San Francisco"];return t[Math.floor(Math.random()*t.length)]}}});return r(g,l(),o(e(s,{get each(){return c()},children:a=>r(h,l(),`${o(a.role)}: `,o(e(s,{get each(){return a.parts},children:t=>[e(n,{get when(){return t.type==="text"},get children(){return t.text}}),e(n,{get when(){return t.type==="tool-invocation"},get children(){return[e(n,{get when(){return t.toolInvocation.toolName==="askForConfirmation"},get children(){return[e(n,{get when(){return t.toolInvocation.state==="call"},get children(){return r(v,l()+i("data-key",o(t.toolInvocation.toolCallId,!0),!1),o(t.toolInvocation.args.message))}}),e(n,{get when(){return t.toolInvocation.state==="result"},get children(){return r(m,l()+i("data-key",o(t.toolInvocation.toolCallId,!0),!1),o(t.toolInvocation.result))}})]}}),e(n,{get when(){return t.toolInvocation.toolName==="getLocation"},get children(){return[e(n,{get when(){return t.toolInvocation.state==="call"},get children(){return r(f,l())}}),e(n,{get when(){return t.toolInvocation.state==="result"&&t.toolInvocation.result},get children(){return r(w,l(),o(t.toolInvocation.result))}})]}}),e(n,{get when(){return t.toolInvocation.toolName==="getWeatherInformation"},get children(){return[e(n,{get when(){return t.toolInvocation.state==="partial-call"},get children(){return r(I,l(),o(JSON.stringify(t.toolInvocation,null,2)))}}),e(n,{get when(){return t.toolInvocation.state==="call"},get children(){return r(x,l(),o(t.toolInvocation.args.city))}}),e(n,{get when(){return t.toolInvocation.state==="result"},get children(){return r(y,l(),o(t.toolInvocation.args.city),o(t.toolInvocation.result))}})]}})]}})]})))})),i("value",o(u(),!0),!1))}export{L as default};
