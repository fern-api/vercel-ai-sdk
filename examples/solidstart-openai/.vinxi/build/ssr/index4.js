import{ssr as o,ssrHydrationKey as t,escape as r,createComponent as d,ssrAttribute as a}from"solid-js/web";import{For as p,Show as l}from"solid-js";import{u as c}from"./assets/index-VNZibSlG.js";import"./assets/index-njiR_SmV.js";import{c as b}from"./assets/index-Bf1kAoXe.js";import"solid-js/store";import"zod";const x=["<div",">Loading...</div>"],f=["<div",' class="mt-4 text-gray-500"><!--$-->','<!--/--><button type="button" class="px-4 py-2 mt-4 text-blue-500 border border-blue-500 rounded-md">Stop</button></div>'],g=["<div",' class="flex flex-col w-full max-w-md py-24 mx-auto stretch"><div class="flex flex-col gap-2 p-2">',"</div><!--$-->","<!--/--><!--$-->",'<!--/--><form class="fixed bottom-0 w-full max-w-md p-2"><input class="w-full p-2 mb-8 border border-gray-300 rounded shadow-xl"',' placeholder="Say something..."',"></form></div>"],h=["<div",' class="whitespace-pre-wrap"><!--$-->',"<!--/--><!--$-->","<!--/--></div>"],i=["<div",' class="mt-4"><div class="text-red-500">An error occurred.</div><button type="button" class="px-4 py-2 mt-4 text-blue-500 border border-blue-500 rounded-md">Retry</button></div>'];function I(){const{input:u,messages:n,status:s,error:m}=c({api:"/api/use-chat-request",sendExtraMessageFields:!0,generateId:b({prefix:"msgc",size:16}),experimental_prepareRequestBody({messages:e}){return{message:e[e.length-1]}}});return o(g,t(),r(d(p,{get each(){return n()},children:e=>o(h,t(),e.role==="user"?"User: ":"AI: ",r(e.content))})),r(d(l,{get when(){return s()==="submitted"||s()==="streaming"},get children(){return o(f,t(),r(d(l,{get when(){return s()==="submitted"},get children(){return o(x,t())}})))}})),m()&&i[0]+t()+i[1],a("value",r(u(),!0),!1),a("disabled",s()!=="ready",!0))}export{I as default};
