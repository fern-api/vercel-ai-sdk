import{ssr as s,ssrHydrationKey as l,escape as e,createComponent as d,ssrAttribute as i}from"solid-js/web";import{createSignal as g,For as n,Show as u}from"solid-js";import{u as v}from"./assets/index-VNZibSlG.js";import{g as b}from"./assets/index-Bf1kAoXe.js";import"solid-js/store";import"zod";const h=["<div",">Loading...</div>"],w=["<div",' class="mt-4 text-gray-500"><!--$-->','<!--/--><button type="button" class="px-4 py-2 mt-4 text-blue-500 border border-blue-500 rounded-md">Stop</button></div>'],y=["<div",' class="flex flex-col gap-2"><div class="flex flex-col p-2 gap-2">',"</div><!--$-->","<!--/--><!--$-->",'<!--/--><form class="flex flex-col gap-2 fixed bottom-0 p-2 w-full bg-white"><div class="flex flex-row gap-2 fixed right-2 bottom-14 items-end">','</div><input type="file" multiple><input',' placeholder="Send message..." class="bg-zinc-100 w-full p-2"',"></form></div>"],$=["<div",' class="flex flex-row gap-2"><div class="w-24 text-zinc-500 flex-shrink-0">','</div><div class="flex flex-col gap-2"><!--$-->','<!--/--><div class="flex flex-row gap-2">',"</div></div></div>"],_=["<img",' class="w-24 rounded-md"',">"],z=["<div",' class="w-32 h-24 rounded-md text-xs overflow-hidden p-2 text-zinc-500 border">',"</div>"],p=["<div",' class="mt-4"><div class="text-red-500">An error occurred.</div><button type="button" class="px-4 py-2 mt-4 text-blue-500 border border-blue-500 rounded-md">Retry</button></div>'],F=["<div",'><img class="w-24 rounded-md"','><span class="text-sm text-zinc-500">',"</span></div>"],R=["<div",' class="w-24 text-zinc-500 flex-shrink-0 text-sm flex flex-col gap-1"><div class="w-16 h-20 bg-zinc-100 rounded-md"></div><!--$-->',"<!--/--></div>"];function W(){const[a,S]=g(void 0),{error:m,input:x,status:o,messages:f}=v({onFinish(t,{usage:r,finishReason:c}){console.log("Usage",r),console.log("FinishReason",c)}});return s(y,l(),e(d(n,{get each(){return f()},children:t=>s($,l(),`${e(t.role)}: `,e(t.content),e(d(n,{get each(){return t.experimental_attachments},children:(r,c)=>r.contentType?.includes("image/")?s(_,l(),i("src",e(r.url,!0),!1)+i("alt",e(r.name,!0),!1)):r.contentType?.includes("text/")?s(z,l(),e(b(r.url))):null})))})),e(d(u,{get when(){return o()==="submitted"||o()==="streaming"},get children(){return s(w,l(),e(d(u,{get when(){return o()==="submitted"},get children(){return s(h,l())}})))}})),m()&&p[0]+l()+p[1],e(d(n,{get each(){return a()?Array.from(a()):[]},children:t=>{const r=t.type;return r.startsWith("image/")?s(F,l(),i("src",e(URL.createObjectURL(t),!0),!1)+i("alt",e(t.name,!0),!1),e(t.name)):r.startsWith("text/")?s(R,l(),e(t.name)):null}})),i("value",e(x(),!0),!1),i("disabled",o()!=="ready",!0))}export{W as default};
