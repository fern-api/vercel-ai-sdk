import { ssr, ssrHydrationKey, escape, createComponent, ssrAttribute } from 'solid-js/web';
import { createSignal, For, Show } from 'solid-js';
import { z as ze } from './index162.mjs';
import { T as Ta } from './index17.mjs';
import 'solid-js/store';
import 'zod';

const h=["<div",">Loading...</div>"],w=["<div",' class="mt-4 text-gray-500"><!--$-->','<!--/--><button type="button" class="px-4 py-2 mt-4 text-blue-500 border border-blue-500 rounded-md">Stop</button></div>'],y=["<div",' class="flex flex-col gap-2"><div class="flex flex-col p-2 gap-2">',"</div><!--$-->","<!--/--><!--$-->",'<!--/--><form class="flex flex-col gap-2 fixed bottom-0 p-2 w-full bg-white"><div class="flex flex-row gap-2 fixed right-2 bottom-14 items-end">','</div><input type="file" multiple><input',' placeholder="Send message..." class="bg-zinc-100 w-full p-2"',"></form></div>"],$=["<div",' class="flex flex-row gap-2"><div class="w-24 text-zinc-500 flex-shrink-0">','</div><div class="flex flex-col gap-2"><!--$-->','<!--/--><div class="flex flex-row gap-2">',"</div></div></div>"],_=["<img",' class="w-24 rounded-md"',">"],z=["<div",' class="w-32 h-24 rounded-md text-xs overflow-hidden p-2 text-zinc-500 border">',"</div>"],p=["<div",' class="mt-4"><div class="text-red-500">An error occurred.</div><button type="button" class="px-4 py-2 mt-4 text-blue-500 border border-blue-500 rounded-md">Retry</button></div>'],F=["<div",'><img class="w-24 rounded-md"','><span class="text-sm text-zinc-500">',"</span></div>"],R=["<div",' class="w-24 text-zinc-500 flex-shrink-0 text-sm flex flex-col gap-1"><div class="w-16 h-20 bg-zinc-100 rounded-md"></div><!--$-->',"<!--/--></div>"];function W(){const[a,S]=createSignal(void 0),{error:m,input:x,status:o,messages:f}=ze({onFinish(t,{usage:r,finishReason:c}){console.log("Usage",r),console.log("FinishReason",c);}});return ssr(y,ssrHydrationKey(),escape(createComponent(For,{get each(){return f()},children:t=>ssr($,ssrHydrationKey(),`${escape(t.role)}: `,escape(t.content),escape(createComponent(For,{get each(){return t.experimental_attachments},children:(r,c)=>r.contentType?.includes("image/")?ssr(_,ssrHydrationKey(),ssrAttribute("src",escape(r.url,true),false)+ssrAttribute("alt",escape(r.name,true),false)):r.contentType?.includes("text/")?ssr(z,ssrHydrationKey(),escape(Ta(r.url))):null})))})),escape(createComponent(Show,{get when(){return o()==="submitted"||o()==="streaming"},get children(){return ssr(w,ssrHydrationKey(),escape(createComponent(Show,{get when(){return o()==="submitted"},get children(){return ssr(h,ssrHydrationKey())}})))}})),m()&&p[0]+ssrHydrationKey()+p[1],escape(createComponent(For,{get each(){return a()?Array.from(a()):[]},children:t=>{const r=t.type;return r.startsWith("image/")?ssr(F,ssrHydrationKey(),ssrAttribute("src",escape(URL.createObjectURL(t),true),false)+ssrAttribute("alt",escape(t.name,true),false),escape(t.name)):r.startsWith("text/")?ssr(R,ssrHydrationKey(),escape(t.name)):null}})),ssrAttribute("value",escape(x(),true),false),ssrAttribute("disabled",o()!=="ready",true))}

export { W as default };
//# sourceMappingURL=index3.mjs.map
